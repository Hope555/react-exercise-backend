(this["webpackJsonpreact-exercises"]=this["webpackJsonpreact-exercises"]||[]).push([[0],{21:function(e,n,t){},23:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t.n(c),o=t(16),i=t.n(o),a=(t(21),t(3)),u=t(0),s=function(e){var n=e.newFilter,t=e.filterChangeHandler;return Object(u.jsxs)("div",{children:["filter shown with ",Object(u.jsx)("input",{value:n,onChange:t})]})},d=function(e){var n=e.personsToShow,t=e.deletePerson;return Object(u.jsx)(u.Fragment,{children:n.map((function(e){return Object(u.jsxs)("div",{children:[e.name," ",e.number,Object(u.jsx)("button",{onClick:function(){return t(e)},children:"delete"})]},e.id)}))})},f=function(e){var n=e.newName,t=e.nameChangeHandler,c=e.newNumber,r=e.numberChangeHandler,o=e.addPerson;return Object(u.jsxs)("form",{onSubmit:o,children:[Object(u.jsxs)("div",{children:["name: ",Object(u.jsx)("input",{value:n,onChange:t})]}),Object(u.jsxs)("div",{children:["number: ",Object(u.jsx)("input",{value:c,onChange:r})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"add"})})]})},j=(t(23),function(e){var n=e.type,t=e.message;return Object(u.jsx)("div",{className:"notification "+n,children:t})}),h=t(4),l=t.n(h),b="/api/persons",g=function(){return l.a.get(b).then((function(e){return e.data}))},m=function(e){return l.a.post(b,e).then((function(e){return e.data})).catch((function(e){throw new Error(e.response.data.error)}))},O=function(e){return l.a.delete(b+"/"+e).then((function(e){return e.data}))},p=function(e,n){return l.a.put(b+"/"+e,n).then((function(e){return e.data})).catch((function(e){throw new Error(e.response.data.error)}))},x=function(){var e=Object(c.useState)([]),n=Object(a.a)(e,2),t=n[0],r=n[1],o=Object(c.useState)(""),i=Object(a.a)(o,2),h=i[0],l=i[1],b=Object(c.useState)(""),x=Object(a.a)(b,2),w=x[0],v=x[1],C=Object(c.useState)(""),N=Object(a.a)(C,2),S=N[0],y=N[1],F=Object(c.useState)({type:"",message:""}),P=Object(a.a)(F,2),H=P[0],k=P[1];Object(c.useEffect)((function(){g().then((function(e){r(e)}))}),[]);var T=t.filter((function(e){return e.name.toLowerCase().includes(S.toLowerCase())})),E={toggleNotification:function(e,n){k({type:e,message:n}),setTimeout((function(){k({type:"",message:""})}),5e3)}};return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Phonebook"}),Object(u.jsx)(j,{type:H.type,message:H.message}),Object(u.jsx)(s,{newFilter:S,filterChangeHandler:function(e){y(e.target.value)}}),Object(u.jsx)("h2",{children:"add a new"}),Object(u.jsx)(f,{newName:h,nameChangeHandler:function(e){l(e.target.value)},newNumber:w,numberChangeHandler:function(e){v(e.target.value)},addPerson:function(e){e.preventDefault();var n={name:h,number:w},c=t.find((function(e){return e.name===h}));c?window.confirm("".concat(h," is already added to phonebook, replace the old number with a new one?"))&&p(c.id,n).then((function(e){E.toggleNotification("success","Added ".concat(h)),r(t.map((function(n){return n.id===e.id?e:n}))),l(""),v("")})).catch((function(e){E.toggleNotification("error",e.message)})):m(n).then((function(e){E.toggleNotification("success","Added ".concat(h)),r(t.concat(e)),l(""),v("")})).catch((function(e){E.toggleNotification("error",e.message)}))}}),Object(u.jsx)("h2",{children:"Numbers"}),Object(u.jsx)(d,{personsToShow:T,deletePerson:function(e){window.confirm("Delete ".concat(e.name,"?"))&&O(e.id).then((function(){r(t.filter((function(n){return n.id!==e.id})))})).catch((function(){E.toggleNotification("error","".concat(e.name," does not exist in server"))}))}})]})},w=function(){return Object(u.jsx)(x,{})},v=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,43)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,o=n.getLCP,i=n.getTTFB;t(e),c(e),r(e),o(e),i(e)}))};i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root")),v()}},[[42,1,2]]]);
//# sourceMappingURL=main.7d3a5c45.chunk.js.map