(this["webpackJsonpreact-exercises"]=this["webpackJsonpreact-exercises"]||[]).push([[0],{21:function(e,n,t){},23:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t.n(c),i=t(16),a=t.n(i),o=(t(21),t(3)),u=t(0),s=function(e){var n=e.newFilter,t=e.filterChangeHandler;return Object(u.jsxs)("div",{children:["filter shown with ",Object(u.jsx)("input",{value:n,onChange:t})]})},d=function(e){var n=e.personsToShow,t=e.deletePerson;return Object(u.jsx)(u.Fragment,{children:n.map((function(e){return Object(u.jsxs)("div",{children:[e.name," ",e.number,Object(u.jsx)("button",{onClick:function(){return t(e)},children:"delete"})]},e.id)}))})},j=function(e){var n=e.newName,t=e.nameChangeHandler,c=e.newNumber,r=e.numberChangeHandler,i=e.addPerson;return Object(u.jsxs)("form",{onSubmit:i,children:[Object(u.jsxs)("div",{children:["name: ",Object(u.jsx)("input",{value:n,onChange:t})]}),Object(u.jsxs)("div",{children:["number: ",Object(u.jsx)("input",{value:c,onChange:r})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"add"})})]})},f=(t(23),function(e){var n=e.type,t=e.message;return Object(u.jsx)("div",{className:"notification "+n,children:t})}),b=t(4),l=t.n(b),h="/api/persons",m=function(){return l.a.get(h).then((function(e){return e.data}))},O=function(e){return l.a.post(h,e).then((function(e){return e.data}))},g=function(e){return l.a.delete(h+"/"+e).then((function(e){return e.data}))},x=function(e,n){return l.a.put(h+"/"+e,n).then((function(e){return e.data}))},p=function(){var e=Object(c.useState)([]),n=Object(o.a)(e,2),t=n[0],r=n[1],i=Object(c.useState)(""),a=Object(o.a)(i,2),b=a[0],l=a[1],h=Object(c.useState)(""),p=Object(o.a)(h,2),v=p[0],w=p[1],C=Object(c.useState)(""),N=Object(o.a)(C,2),S=N[0],y=N[1],F=Object(c.useState)({type:"",message:""}),P=Object(o.a)(F,2),H=P[0],k=P[1];Object(c.useEffect)((function(){m().then((function(e){r(e)}))}),[]);var T=t.filter((function(e){return e.name.toLowerCase().includes(S.toLowerCase())})),L={toggleNotification:function(e,n){k({type:e,message:n}),setTimeout((function(){k({type:"",message:""})}),5e3)}};return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Phonebook"}),Object(u.jsx)(f,{type:H.type,message:H.message}),Object(u.jsx)(s,{newFilter:S,filterChangeHandler:function(e){y(e.target.value)}}),Object(u.jsx)("h2",{children:"add a new"}),Object(u.jsx)(j,{newName:b,nameChangeHandler:function(e){l(e.target.value)},newNumber:v,numberChangeHandler:function(e){w(e.target.value)},addPerson:function(e){e.preventDefault();var n={name:b,number:v},c=t.find((function(e){return e.name===b}));c?window.confirm("".concat(b," is already added to phonebook, replace the old number with a new one?"))&&x(c.id,n).then((function(e){L.toggleNotification("success","Added ".concat(b)),r(t.map((function(n){return n.id===e.id?e:n}))),l(""),w("")})):O(n).then((function(e){L.toggleNotification("success","Added ".concat(b)),r(t.concat(e)),l(""),w("")}))}}),Object(u.jsx)("h2",{children:"Numbers"}),Object(u.jsx)(d,{personsToShow:T,deletePerson:function(e){window.confirm("Delete ".concat(e.name,"?"))&&g(e.id).then((function(){r(t.filter((function(n){return n.id!==e.id})))})).catch((function(){L.toggleNotification("error","".concat(e.name," does not exist in server"))}))}})]})},v=function(){return Object(u.jsx)(p,{})},w=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,43)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,i=n.getLCP,a=n.getTTFB;t(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(v,{})}),document.getElementById("root")),w()}},[[42,1,2]]]);
//# sourceMappingURL=main.cc4f1a78.chunk.js.map